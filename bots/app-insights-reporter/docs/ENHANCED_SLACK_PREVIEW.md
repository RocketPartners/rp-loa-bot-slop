# Enhanced Slack Message Preview - With Top 5 Issues

## Visual Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ LoA Application Insights - Daily Summary               â”‚  â† HEADER
â”‚  January 30, 2026 at 02:06 PM PST                          â”‚  â† Timestamp
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸš¨ Exceptions    â”‚  ğŸ“¥ Requests    â”‚  âœ… Success Rate     â”‚  â† METRICS GRID
â”‚  `4,561`          â”‚  `0`            â”‚  `100%`              â”‚    (2 columns)
â”‚                   â”‚                 â”‚                      â”‚
â”‚  ğŸ”— Dependencies  â”‚  âš¡ P95 Response                       â”‚
â”‚  `2.5M (219)`     â”‚  `1,229ms`                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”¥ Top Exception Problems                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. 2,191Ã— occurrences                                     â”‚  â† ISSUE #1
â”‚  `â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ` 2,191                              â”‚    (Full bar)
â”‚  ```                                                       â”‚
â”‚  BasketAdQueue.handleLineItemEvents (voidRequested)       â”‚
â”‚  ```                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. 1,689Ã— occurrences                                     â”‚  â† ISSUE #2
â”‚  `â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘` 1,689                              â”‚    (77% bar)
â”‚  ```                                                       â”‚
â”‚  PromoAdFactory.getProductImage (contentMappingBlock)     â”‚
â”‚  ```                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. 303Ã— occurrences                                       â”‚  â† ISSUE #3
â”‚  `â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘` 303                                â”‚    (14% bar)
â”‚  ```                                                       â”‚
â”‚  Offer.void (undefined id)                                â”‚
â”‚  ```                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. 263Ã— occurrences                                       â”‚  â† ISSUE #4
â”‚  `â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘` 263                                â”‚    (12% bar)
â”‚  ```                                                       â”‚
â”‚  PromoAdFactory.buildPriceBubbleDescription (ngrp_ITT)    â”‚
â”‚  ```                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. 74Ã— occurrences                                        â”‚  â† ISSUE #5
â”‚  `â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘` 74                                 â”‚    (3% bar)
â”‚  ```                                                       â”‚
â”‚  Mashgin11Renderer.renderBasketAdThankYou (currentAd)     â”‚
â”‚  ```                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ Action Required                                         â”‚  â† ACTION
â”‚  Null safety failures in PromoAdFactory & BasketAdQueue   â”‚
â”‚  causing 4.3K+ errors. Immediate hotfix needed.           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ View in Azure Portal | Generated by Claude Code        â”‚  â† FOOTER
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Improvements

### âœ… Beautiful Metrics Grid (2x3 Layout)
```
ğŸš¨ Exceptions     ğŸ“¥ Requests      âœ… Success Rate
4,561             0                100%

ğŸ”— Dependencies   âš¡ P95 Response
2.5M (219 failed) 1,229ms
```

**Benefits:**
- Scannable at a glance
- Icon + label for each metric
- Clean grid layout using Slack's `fields` feature
- Numbers in monospace for alignment

### âœ… Top 5 Issues (Instead of 3)
Shows **5 exception problems** instead of just 3, giving more complete visibility.

Each issue gets its own block with:
- Count in bold
- Proportional bar chart (â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘)
- Error description in code block

### âœ… Visual Bar Charts
```
Issue #1 (2,191): â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (100% - highest)
Issue #2 (1,689): â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘ (77%)
Issue #3 (303):   â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ (14%)
Issue #4 (263):   â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ (12%)
Issue #5 (74):    â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ (3%)
```

**Benefits:**
- Instant visual comparison
- See relative severity at a glance
- 20-character bars for consistency
- Unicode blocks: â–ˆ (filled) and â–‘ (empty)

### âœ… Separated Issue Blocks
Each issue is in its own section block (not all in one), making it:
- Easier to read
- More scannable
- Better spaced on mobile
- Clearer hierarchy

## Before vs After

### Before (Top 3, Plain Metrics)
```
ğŸ“Š Key Metrics
4,556 exceptions | 2.5M dependencies (223 failed) | P95: 1229ms

ğŸ”¥ Top Exception Problems
1. 2,190Ã— BasketAdQueue.handleLineItemEvents
2. 1,687Ã— PromoAdFactory.getProductImage
3. 303Ã— Offer.void
```

### After (Top 5, Grid Metrics)
```
ğŸš¨ Exceptions    ğŸ“¥ Requests     âœ… Success Rate
4,561            0               100%

ğŸ”— Dependencies  âš¡ P95 Response
2.5M (219)       1,229ms

ğŸ”¥ Top Exception Problems
[5 separate blocks with bars and full descriptions]
```

## Mobile Experience
- Grid collapses to single column on narrow screens
- Each issue block stacks vertically
- Bar charts remain readable
- All interactive elements work

## Real Slack Features Used
- **Header Block** - `type: "header"` with large text
- **Context Block** - `type: "context"` for subtle timestamps
- **Section with Fields** - `type: "section"` with `fields: [...]` for 2-column grid
- **Dividers** - `type: "divider"` for visual separation
- **Code Blocks** - ``` triple backticks for exception details
- **Inline Code** - ` single backticks for metrics
- **Links** - `<https://url|text>` markdown for clickable links

## Summary
- âœ… Top 5 issues (was 3)
- âœ… Beautiful 2-column metrics grid (was single line)
- âœ… Visual bar charts (20 chars, proportional)
- âœ… Separated issue blocks (easier to scan)
- âœ… Emoji icons for each metric
- âœ… Interactive Azure Portal link
- âœ… Mobile-responsive layout
